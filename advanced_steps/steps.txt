sudo apt update
sudo apt install -y python3-dev python3-pip git zlib1g-dev \
    libosmesa6-dev libgl1-mesa-glx libglfw3 curl unzip \
    openjdk-11-jdk zip bazel

sudo apt install apt-transport-https curl gnupg
curl -fsSL https://bazel.build/bazel-release.pub.gpg | gpg --dearmor >bazel.gpg
sudo mv bazel.gpg /etc/apt/trusted.gpg.d/
echo "deb [arch=amd64] https://storage.googleapisapt stable jdk1.8" | sudo tee /etc/apt/sources.list.d/bazel.list
sudo apt update && sudo apt install bazel

git clone https://github.com/tensorflow/tensorflow.git
cd tensorflow
git checkout <desired_version>Â  # e.g., v2.15.0

./configure

bazel build --config=opt \
  --copt=-mavx2 \
  --copt=-mfma \
  //tensorflow/tools/pip_package:build_pip_package



